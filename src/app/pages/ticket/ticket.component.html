<div class="container mt-5">
  <div class="card">
    <div class="card-header">
      <h2 class="card-title">{{ ticket?.title }}</h2>
    </div>
    <div class="card-body">
      <div class="row mb-3">
        <div class="col-md-6 mb-3">
          <div>
            <strong>Type:</strong>
            <span id="ticket-type"> {{ ticket?.type }}</span>
          </div>
        </div>
        <div class="row mb-3">
        <div class="ticket-flex" *ngIf="this.authService.getDecodedToken().type === 'admin'">
        <form [formGroup]="ticketForm">
          <strong class="mr-2">Status:</strong>
          <p-dropdown
            [options]="status"
            optionLabel="status"
            formControlName="status"
            [placeholder]="ticket?.status">
          </p-dropdown>
        </form>
        <button pButton class="w-10rem p-button-success button" label="Change status" (click)="changeStatus()"></button>
        </div>
        <div class="row mb-3">
          <strong class="mr-2">Status:</strong>
          <span id="ticket-status">{{ticket?.status}}</span>
        </div>
      </div>
        <div class="col-md-6">
          <strong>ID:</strong>
          <span id="ticket-id"> {{ ticketId }}</span>
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-md-12">
          <strong>Body:</strong>
          <div id="ticket-body" style="font-size: 17px;" [innerHTML]="ticket?.body"></div>
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-md-6">
          <strong>Email:</strong>
          <span id="ticket-email"> {{ ticket.email }}</span>
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-md-6">
          <strong>Date of Creation:</strong>
          <span id="ticket-date"> {{ ticket?.date | date: 'YYYY/MM/dd HH:mm' }}</span>
        </div>
      </div>
      <div class="col-md-6">
        <strong>SubType:</strong>
        <span id="ticket-subtype"> {{ ticket?.subType }}</span>
      </div>
    </div>
  </div>
</div>

<div class="container mt-5">
  <div class="card">
    <div class="card-header">
      <h3 class="card-title">Ticket history</h3>
    </div>
    <div class="card-body">
      <div class="row mb-3">
        <div [innerHTML]="ticket?.logs"></div>
      </div>
    </div>
  </div>
</div>
